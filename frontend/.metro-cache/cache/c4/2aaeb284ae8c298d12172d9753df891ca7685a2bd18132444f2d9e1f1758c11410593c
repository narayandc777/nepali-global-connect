{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../config/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":36,"index":126}}],"key":"V94urzZZSfzzXHrNxWFShT8IuQo=","exportNames":["*"],"imports":1}},{"name":"../utils/secureStorage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":127},"end":{"line":3,"column":56,"index":183}}],"key":"VJtuFUlbX461VIgg9agIAV15XNA=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/Users/narayandc/practice/nepali-global-connect/frontend/src/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _configApi = require(_dependencyMap[1], \"../config/api\");\n  var _utilsSecureStorage = require(_dependencyMap[2], \"../utils/secureStorage\");\n  var secureStorage = _interopNamespace(_utilsSecureStorage);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    const checkAuth = async () => {\n      try {\n        const token = await secureStorage.getItem('access_token');\n        if (token) {\n          const response = await _configApi.api.get('/auth/me');\n          setUser(response.data);\n        }\n      } catch (error) {\n        console.log('Not authenticated');\n        await secureStorage.deleteItem('access_token');\n        await secureStorage.deleteItem('refresh_token');\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        // const response = await api.post('/auth/login', { email, password });\n        const response = {\n          data: {\n            access_token: 'test',\n            refresh_token: 'test'\n          }\n        };\n        const {\n          access_token,\n          refresh_token\n        } = response.data;\n        await secureStorage.setItem('access_token', access_token);\n        await secureStorage.setItem('refresh_token', refresh_token);\n\n        // Get user info\n        // const userResponse = await api.get('/auth/me');\n        // setUser(userResponse.data);\n\n        setUser({\n          id: 'string',\n          email: 'string',\n          username: 'string',\n          created_at: 'string'\n        });\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async (email, password, username) => {\n      try {\n        const response = await _configApi.api.post('/auth/register', {\n          email,\n          password,\n          username\n        });\n        const {\n          access_token,\n          refresh_token\n        } = response.data;\n        await secureStorage.setItem('access_token', access_token);\n        await secureStorage.setItem('refresh_token', refresh_token);\n\n        // Get user info\n        const userResponse = await _configApi.api.get('/auth/me');\n        setUser(userResponse.data);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      try {\n        await _configApi.api.post('/auth/logout');\n      } catch (error) {\n        console.log('Logout error:', error);\n      } finally {\n        await secureStorage.deleteItem('access_token');\n        await secureStorage.deleteItem('refresh_token');\n        setUser(null);\n      }\n    };\n    const refreshUser = async () => {\n      try {\n        const response = await _configApi.api.get('/auth/me');\n        setUser(response.data);\n      } catch (error) {\n        console.log('Failed to refresh user:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        login,\n        register,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":157,"map":[[23,2,24,0,"Object"],[23,8,24,0],[23,9,24,0,"defineProperty"],[23,23,24,0],[23,24,24,0,"exports"],[23,31,24,0],[24,4,24,0,"enumerable"],[24,14,24,0],[25,4,24,0,"get"],[25,7,24,0],[25,18,24,0,"get"],[25,19,24,0],[26,6,24,0],[26,13,24,0,"AuthProvider"],[26,25,24,0],[27,4,24,0],[28,2,24,0],[29,2,122,0,"Object"],[29,8,122,0],[29,9,122,0,"defineProperty"],[29,23,122,0],[29,24,122,0,"exports"],[29,31,122,0],[30,4,122,0,"enumerable"],[30,14,122,0],[31,4,122,0,"get"],[31,7,122,0],[31,18,122,0,"get"],[31,19,122,0],[32,6,122,0],[32,13,122,0,"useAuth"],[32,20,122,0],[33,4,122,0],[34,2,122,0],[35,2,1,0],[35,6,1,0,"_react"],[35,12,1,0],[35,15,1,0,"require"],[35,22,1,0],[35,23,1,0,"_dependencyMap"],[35,37,1,0],[36,2,2,0],[36,6,2,0,"_configApi"],[36,16,2,0],[36,19,2,0,"require"],[36,26,2,0],[36,27,2,0,"_dependencyMap"],[36,41,2,0],[37,2,3,0],[37,6,3,0,"_utilsSecureStorage"],[37,25,3,0],[37,28,3,0,"require"],[37,35,3,0],[37,36,3,0,"_dependencyMap"],[37,50,3,0],[38,2,3,0],[38,6,3,0,"secureStorage"],[38,19,3,0],[38,22,3,0,"_interopNamespace"],[38,39,3,0],[38,40,3,0,"_utilsSecureStorage"],[38,59,3,0],[39,2,3,56],[39,6,3,56,"_reactJsxDevRuntime"],[39,25,3,56],[39,28,3,56,"require"],[39,35,3,56],[39,36,3,56,"_dependencyMap"],[39,50,3,56],[40,2,22,0],[40,8,22,6,"AuthContext"],[40,19,22,17],[40,35,22,20],[40,39,22,20,"createContext"],[40,45,22,33],[40,46,22,33,"createContext"],[40,59,22,33],[40,61,22,63,"undefined"],[40,70,22,72],[40,71,22,73],[41,2,24,7],[41,8,24,13,"AuthProvider"],[41,20,24,25],[41,23,24,28,"AuthProvider"],[41,24,24,29],[42,4,24,31,"children"],[43,2,24,65],[43,3,24,66],[43,8,24,71],[44,4,25,2],[44,10,25,8],[44,11,25,9,"user"],[44,15,25,13],[44,17,25,15,"setUser"],[44,24,25,22],[44,25,25,23],[44,28,25,26],[44,32,25,26,"useState"],[44,38,25,34],[44,39,25,34,"useState"],[44,47,25,34],[44,49,25,48],[44,53,25,52],[44,54,25,53],[45,4,26,2],[45,10,26,8],[45,11,26,9,"loading"],[45,18,26,16],[45,20,26,18,"setLoading"],[45,30,26,28],[45,31,26,29],[45,34,26,32],[45,38,26,32,"useState"],[45,44,26,40],[45,45,26,40,"useState"],[45,53,26,40],[45,55,26,41],[45,59,26,45],[45,60,26,46],[46,4,28,2],[46,8,28,2,"useEffect"],[46,14,28,11],[46,15,28,11,"useEffect"],[46,24,28,11],[46,26,28,12],[46,32,28,18],[47,6,29,4,"checkAuth"],[47,15,29,13],[47,16,29,14],[47,17,29,15],[48,4,30,2],[48,5,30,3],[48,7,30,5],[48,9,30,7],[48,10,30,8],[49,4,32,2],[49,10,32,8,"checkAuth"],[49,19,32,17],[49,22,32,20],[49,28,32,20,"checkAuth"],[49,29,32,20],[49,34,32,32],[50,6,33,4],[50,10,33,8],[51,8,34,6],[51,14,34,12,"token"],[51,19,34,17],[51,22,34,20],[51,28,34,26,"secureStorage"],[51,41,34,39],[51,42,34,40,"getItem"],[51,49,34,47],[51,50,34,48],[51,64,34,62],[51,65,34,63],[52,8,35,6],[52,12,35,10,"token"],[52,17,35,15],[52,19,35,17],[53,10,36,8],[53,16,36,14,"response"],[53,24,36,22],[53,27,36,25],[53,33,36,31,"api"],[53,43,36,34],[53,44,36,34,"api"],[53,47,36,34],[53,48,36,35,"get"],[53,51,36,38],[53,52,36,39],[53,62,36,49],[53,63,36,50],[54,10,37,8,"setUser"],[54,17,37,15],[54,18,37,16,"response"],[54,26,37,24],[54,27,37,25,"data"],[54,31,37,29],[54,32,37,30],[55,8,38,6],[56,6,39,4],[56,7,39,5],[56,8,39,6],[56,15,39,13,"error"],[56,20,39,18],[56,22,39,20],[57,8,40,6,"console"],[57,15,40,13],[57,16,40,14,"log"],[57,19,40,17],[57,20,40,18],[57,39,40,37],[57,40,40,38],[58,8,41,6],[58,14,41,12,"secureStorage"],[58,27,41,25],[58,28,41,26,"deleteItem"],[58,38,41,36],[58,39,41,37],[58,53,41,51],[58,54,41,52],[59,8,42,6],[59,14,42,12,"secureStorage"],[59,27,42,25],[59,28,42,26,"deleteItem"],[59,38,42,36],[59,39,42,37],[59,54,42,52],[59,55,42,53],[60,6,43,4],[60,7,43,5],[60,16,43,14],[61,8,44,6,"setLoading"],[61,18,44,16],[61,19,44,17],[61,24,44,22],[61,25,44,23],[62,6,45,4],[63,4,46,2],[63,5,46,3],[64,4,48,2],[64,10,48,8,"login"],[64,15,48,13],[64,18,48,16],[64,24,48,16,"login"],[64,25,48,23,"email"],[64,30,48,36],[64,32,48,38,"password"],[64,40,48,54],[64,45,48,59],[65,6,49,4],[65,10,49,8],[66,8,50,6],[67,8,51,6],[67,14,51,12,"response"],[67,22,51,20],[67,25,51,21],[68,10,52,8,"data"],[68,14,52,12],[68,16,52,13],[69,12,53,10,"access_token"],[69,24,53,22],[69,26,53,23],[69,32,53,29],[70,12,54,10,"refresh_token"],[70,25,54,23],[70,27,54,24],[71,10,55,8],[72,8,56,6],[72,9,56,7],[73,8,57,6],[73,14,57,12],[74,10,57,14,"access_token"],[74,22,57,26],[75,10,57,28,"refresh_token"],[76,8,57,42],[76,9,57,43],[76,12,57,46,"response"],[76,20,57,54],[76,21,57,55,"data"],[76,25,57,59],[77,8,59,6],[77,14,59,12,"secureStorage"],[77,27,59,25],[77,28,59,26,"setItem"],[77,35,59,33],[77,36,59,34],[77,50,59,48],[77,52,59,50,"access_token"],[77,64,59,62],[77,65,59,63],[78,8,60,6],[78,14,60,12,"secureStorage"],[78,27,60,25],[78,28,60,26,"setItem"],[78,35,60,33],[78,36,60,34],[78,51,60,49],[78,53,60,51,"refresh_token"],[78,66,60,64],[78,67,60,65],[80,8,62,6],[81,8,63,6],[82,8,64,6],[84,8,66,6,"setUser"],[84,15,66,13],[84,16,66,14],[85,10,67,8,"id"],[85,12,67,10],[85,14,67,12],[85,22,67,20],[86,10,68,8,"email"],[86,15,68,13],[86,17,68,15],[86,25,68,23],[87,10,69,8,"username"],[87,18,69,16],[87,20,69,18],[87,28,69,26],[88,10,70,8,"created_at"],[88,20,70,18],[88,22,70,20],[89,8,72,6],[89,9,72,7],[89,10,72,8],[90,6,73,4],[90,7,73,5],[90,8,73,6],[90,15,73,13,"error"],[90,20,73,23],[90,22,73,25],[91,8,74,6],[91,14,74,12],[91,18,74,16,"Error"],[91,23,74,21],[91,24,74,22,"error"],[91,29,74,27],[91,30,74,28,"response"],[91,38,74,36],[91,40,74,38,"data"],[91,44,74,42],[91,46,74,44,"detail"],[91,52,74,50],[91,56,74,54],[91,70,74,68],[91,71,74,69],[92,6,75,4],[93,4,76,2],[93,5,76,3],[94,4,78,2],[94,10,78,8,"register"],[94,18,78,16],[94,21,78,19],[94,27,78,19,"register"],[94,28,78,26,"email"],[94,33,78,39],[94,35,78,41,"password"],[94,43,78,57],[94,45,78,59,"username"],[94,53,78,75],[94,58,78,80],[95,6,79,4],[95,10,79,8],[96,8,80,6],[96,14,80,12,"response"],[96,22,80,20],[96,25,80,23],[96,31,80,29,"api"],[96,41,80,32],[96,42,80,32,"api"],[96,45,80,32],[96,46,80,33,"post"],[96,50,80,37],[96,51,80,38],[96,67,80,54],[96,69,80,56],[97,10,80,58,"email"],[97,15,80,63],[98,10,80,65,"password"],[98,18,80,73],[99,10,80,75,"username"],[100,8,80,84],[100,9,80,85],[100,10,80,86],[101,8,81,6],[101,14,81,12],[102,10,81,14,"access_token"],[102,22,81,26],[103,10,81,28,"refresh_token"],[104,8,81,42],[104,9,81,43],[104,12,81,46,"response"],[104,20,81,54],[104,21,81,55,"data"],[104,25,81,59],[105,8,83,6],[105,14,83,12,"secureStorage"],[105,27,83,25],[105,28,83,26,"setItem"],[105,35,83,33],[105,36,83,34],[105,50,83,48],[105,52,83,50,"access_token"],[105,64,83,62],[105,65,83,63],[106,8,84,6],[106,14,84,12,"secureStorage"],[106,27,84,25],[106,28,84,26,"setItem"],[106,35,84,33],[106,36,84,34],[106,51,84,49],[106,53,84,51,"refresh_token"],[106,66,84,64],[106,67,84,65],[108,8,86,6],[109,8,87,6],[109,14,87,12,"userResponse"],[109,26,87,24],[109,29,87,27],[109,35,87,33,"api"],[109,45,87,36],[109,46,87,36,"api"],[109,49,87,36],[109,50,87,37,"get"],[109,53,87,40],[109,54,87,41],[109,64,87,51],[109,65,87,52],[110,8,88,6,"setUser"],[110,15,88,13],[110,16,88,14,"userResponse"],[110,28,88,26],[110,29,88,27,"data"],[110,33,88,31],[110,34,88,32],[111,6,89,4],[111,7,89,5],[111,8,89,6],[111,15,89,13,"error"],[111,20,89,23],[111,22,89,25],[112,8,90,6],[112,14,90,12],[112,18,90,16,"Error"],[112,23,90,21],[112,24,90,22,"error"],[112,29,90,27],[112,30,90,28,"response"],[112,38,90,36],[112,40,90,38,"data"],[112,44,90,42],[112,46,90,44,"detail"],[112,52,90,50],[112,56,90,54],[112,77,90,75],[112,78,90,76],[113,6,91,4],[114,4,92,2],[114,5,92,3],[115,4,94,2],[115,10,94,8,"logout"],[115,16,94,14],[115,19,94,17],[115,25,94,17,"logout"],[115,26,94,17],[115,31,94,29],[116,6,95,4],[116,10,95,8],[117,8,96,6],[117,14,96,12,"api"],[117,24,96,15],[117,25,96,15,"api"],[117,28,96,15],[117,29,96,16,"post"],[117,33,96,20],[117,34,96,21],[117,48,96,35],[117,49,96,36],[118,6,97,4],[118,7,97,5],[118,8,97,6],[118,15,97,13,"error"],[118,20,97,18],[118,22,97,20],[119,8,98,6,"console"],[119,15,98,13],[119,16,98,14,"log"],[119,19,98,17],[119,20,98,18],[119,35,98,33],[119,37,98,35,"error"],[119,42,98,40],[119,43,98,41],[120,6,99,4],[120,7,99,5],[120,16,99,14],[121,8,100,6],[121,14,100,12,"secureStorage"],[121,27,100,25],[121,28,100,26,"deleteItem"],[121,38,100,36],[121,39,100,37],[121,53,100,51],[121,54,100,52],[122,8,101,6],[122,14,101,12,"secureStorage"],[122,27,101,25],[122,28,101,26,"deleteItem"],[122,38,101,36],[122,39,101,37],[122,54,101,52],[122,55,101,53],[123,8,102,6,"setUser"],[123,15,102,13],[123,16,102,14],[123,20,102,18],[123,21,102,19],[124,6,103,4],[125,4,104,2],[125,5,104,3],[126,4,106,2],[126,10,106,8,"refreshUser"],[126,21,106,19],[126,24,106,22],[126,30,106,22,"refreshUser"],[126,31,106,22],[126,36,106,34],[127,6,107,4],[127,10,107,8],[128,8,108,6],[128,14,108,12,"response"],[128,22,108,20],[128,25,108,23],[128,31,108,29,"api"],[128,41,108,32],[128,42,108,32,"api"],[128,45,108,32],[128,46,108,33,"get"],[128,49,108,36],[128,50,108,37],[128,60,108,47],[128,61,108,48],[129,8,109,6,"setUser"],[129,15,109,13],[129,16,109,14,"response"],[129,24,109,22],[129,25,109,23,"data"],[129,29,109,27],[129,30,109,28],[130,6,110,4],[130,7,110,5],[130,8,110,6],[130,15,110,13,"error"],[130,20,110,18],[130,22,110,20],[131,8,111,6,"console"],[131,15,111,13],[131,16,111,14,"log"],[131,19,111,17],[131,20,111,18],[131,45,111,43],[131,47,111,45,"error"],[131,52,111,50],[131,53,111,51],[132,6,112,4],[133,4,113,2],[133,5,113,3],[134,4,115,2],[134,24,116,4],[134,28,116,4,"_reactJsxDevRuntime"],[134,47,116,4],[134,48,116,4,"jsxDEV"],[134,54,116,4],[134,56,116,5,"AuthContext"],[134,67,116,16],[134,68,116,17,"Provider"],[134,76,116,25],[135,6,116,26,"value"],[135,11,116,31],[135,13,116,33],[136,8,116,35,"user"],[136,12,116,39],[137,8,116,41,"loading"],[137,15,116,48],[138,8,116,50,"login"],[138,13,116,55],[139,8,116,57,"register"],[139,16,116,65],[140,8,116,67,"logout"],[140,14,116,73],[141,8,116,75,"refreshUser"],[142,6,116,87],[142,7,116,89],[143,6,116,89,"children"],[143,14,116,89],[143,16,117,7,"children"],[144,4,117,15],[145,6,117,15,"fileName"],[145,14,117,15],[145,16,117,15,"_jsxFileName"],[145,28,117,15],[146,6,117,15,"lineNumber"],[146,16,117,15],[147,6,117,15,"columnNumber"],[147,18,117,15],[148,4,117,15],[148,11,118,26],[148,12,118,27],[149,2,120,0],[149,3,120,1],[150,2,122,7],[150,8,122,13,"useAuth"],[150,15,122,20],[150,18,122,23,"useAuth"],[150,19,122,23],[150,24,122,29],[151,4,123,2],[151,10,123,8,"context"],[151,17,123,15],[151,20,123,18],[151,24,123,18,"useContext"],[151,30,123,28],[151,31,123,28,"useContext"],[151,41,123,28],[151,43,123,29,"AuthContext"],[151,54,123,40],[151,55,123,41],[152,4,124,2],[152,8,124,6,"context"],[152,15,124,13],[152,20,124,18,"undefined"],[152,29,124,27],[152,31,124,29],[153,6,125,4],[153,12,125,10],[153,16,125,14,"Error"],[153,21,125,19],[153,22,125,20],[153,67,125,65],[153,68,125,66],[154,4,126,2],[155,4,127,2],[155,11,127,9,"context"],[155,18,127,16],[156,2,128,0],[156,3,128,1],[157,0,128,2],[157,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","register","logout","refreshUser","useAuth"],"mappings":"AAA;4BCuB;YCI;GDE;oBEE;GFc;gBGE;GH4B;mBIE;GJc;iBKE;GLU;sBME;GNO;CDO;uBQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}